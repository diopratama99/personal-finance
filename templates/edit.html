{% extends "base.html" %}
{% block content %}
<div class="card-soft mx-auto" style="max-width:800px" data-aos="fade-up">
  <h5 class="mb-3">Edit Transaksi</h5>
  <form method="post" action="{{ url_for('edit_submit', trx_id=trx.id) }}" class="row g-3">

    <div class="col-md-4">
      <label class="form-label">Tanggal</label>
      <input type="date" class="form-control" name="date" value="{{ trx.date }}" required>
    </div>

    <div class="col-md-4">
      <label class="form-label">Jenis</label>
      <input type="text" class="form-control" value="{{ trx.type }}" disabled>
    </div>

    <div class="col-md-4">
      <label class="form-label">Kategori</label>
      <select class="form-select" name="category_id" required>
        {% for c in categories %}
          <option value="{{ c.id }}" {{ 'selected' if trx.category_id==c.id else '' }}>{{ c.name }}</option>
        {% endfor %}
      </select>
    </div>

    <div class="col-md-4">
      <label class="form-label">Nominal</label>
      <input type="number" class="form-control" name="amount" value="{{ trx.amount }}" required>
    </div>

    <div class="col-md-4">
      <label class="form-label">Keterangan</label>
      <input type="text" class="form-control" name="keterangan" value="{{ trx.keterangan or '' }}">
    </div>

    <div class="col-md-4">
      <label class="form-label">Metode Pembayaran</label>
      <select class="form-select" name="payment_method">
        {% for opt in ['Transfer','E-Wallet','Tunai'] %}
          <option value="{{ opt }}" {{ 'selected' if trx.payment_method==opt else '' }}>{{ opt }}</option>
        {% endfor %}
      </select>
    </div>

    <div class="col-12">
      <label class="form-label">Catatan</label>
      <input type="text" class="form-control" name="notes" value="{{ trx.notes or '' }}">
    </div>

    <div class="col-12 d-flex gap-2 mt-3">
      <button class="btn btn-primary">Simpan</button>
      <a href="{{ url_for('history') }}" class="btn btn-light">Batal</a>
    </div>
  </form>
</div>
{% endblock %}
